<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <title>Document</title>
</head>

<body>


    <div id="app">
        <input type="text" v-model='userInput'>
        <button v-on:click="addTodo">Add todo</button>
        <ul>
            <li v-for="todo in todos" v-on:click="removeTodo(todo)"> {{ todo.data }} </li>
        </ul>
    </div>


    <script>
        new Vue({
            el: '#app',

            data: {
                todos: [],
                userInput: ''
            },
            methods: {
                addTodo: function () {
                    if (this.userInput.trim() == '') return;

                    var newTodo = {
                        id: _.uniqueId(),
                        data: this.userInput
                    };
                    this.todos.push(newTodo);
                    console.table(this.todos);
                },

                removeTodo: function (todo) {
                    var id = todo.id;

                    for (let i = 0; i < this.todos.length; i++) {
                        if (this.todos[i].id == id) this.todos.splice(i, 1);
                    }
                    console.table(this.todos);
                }
            }
        })







        /*
                var buttonEl = $('button');
                var inputEl = $('input');
                var ulEl = $('ul');
                var todos = [];

                buttonEl.click(addTodo);

                function addTodo() {

                    var newTodos = inputEl.val();

                    if (newTodos.trim() == '') return;

                    var inputObj = {
                        id: _.uniqueId(),
                        data: newTodos
                    }

                    var newTodo = $('<li>' + newTodos + '</li>')
                        .attr('dataset-id', inputObj.id)
                        .click(removeTodo)
                        .appendTo(ulEl);
                    todos.push(inputObj);
                    console.table(todos);
                }

                function removeTodo(event) {
                    var targetEl = $(this);
                    var targetId = targetEl.attr('dataset-id');

                    for (let i = 0; i < todos.length; i++) {
                        if (todos[i].id == targetId) todos.splice(i, 1);
                    }

                    targetEl.remove();
                    console.table(todos);
                }
        */



        // var buttonEl = document.querySelector('button');
        // var inputEl = document.querySelector('input');
        // var ulEl = document.querySelector('ul');

        // var todos = [];

        // buttonEl.addEventListener('click', addTodo)

        // function addTodo() {

        //     var newTodos = inputEl.value;

        //     if (newTodos.trim() == '') return;

        //     var inputObj = {
        //         id: _.uniqueId(),
        //         data: newTodos
        //     }

        //     var newTodo = document.createElement('li');
        //     newTodo.textContent = inputEl.value;
        //     newTodo.dataset.id = inputObj.id;
        //     newTodo.addEventListener('click', removeTodo);

        //     todos.push(inputObj);

        //     ulEl.appendChild(newTodo);
        //     console.table(todos);
        // }

        // function removeTodo(event) {
        //     var targetEl = event.target;
        //     var targetId = targetEl.dataset.id;

        //     for (let i = 0; i < todos.length; i++) {
        //         if (todos[i].id == targetId) todos.splice(i, 1);
        //     }

        //     targetEl.parentNode.removeChild(targetEl);
        //     console.table(todos);
        // }

    </script>

</body>

</html>